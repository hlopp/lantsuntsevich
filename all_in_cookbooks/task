8. Task for “Chef server” 
1. Setup new Ubuntu Vagrant VM and install chef server. 
2. Install chef client on your local PC and configure knife to work with your chef server 
3. Create new branch from master in your cookbooks git repository. 
4. Upload your cookbooks to chef server using knife 
5. Create new Chef-dev environment using knife 
6. Add “application repo” environment attribute and set its value to http://www.cumulogic.com/download/Apps/hudson.zip 
7. Download hudson.zip to your pc, unpack and extract hudson.xml. Modify xml values: change <engine>Tomcat-7.0.12</engine> to jboss and remove load balancer section. 
8. Create databag with your xml file and modify recipes to replace original xml before application deploy. 
9. Modify your existing Jboss cookbooks to deploy application from link in environment attribute and upload them to chef server using knife 
10. Create new JBOSS role and add required recipes to setup new Jboss server with Hudson app. 
11. Setup new Vagrant VM and bootstrap chef client with JBOSS role using “knife bootstrap” command 
12. Commit and push your changes to your branch. Create Pull request to master. 
Advanced 
13. Download mysql cookbook 
14. Create new environment attributes “mysql hostname” and “port” 
15. Modify mysql cookbook to use environment attributes “mysql hostname” and “port” 16. Add recipe to install sql dump from http://www.cumulogic.com/download/Apps/guestbookapp.zip 
17. Download guestbookapp.zip to your pc, unpack and extract guestbookapp.xml. Modify xml values: remove load balancer section. 
18. Create encrypted databag with your xml file and modify recipes to replace original xml before application deploy. 
19. Create mysql server role and add your mysql cookbooks to it 
20. Bootstrap new mysql server and verify that environment attributes have correct values 21. Set “application repo” attribute to http://www.cumulogic.com/download/Apps/guestbookapp.zip 
22. Modify JBOSS cookbook to use mysql attribute variables 
23. Deploy JBOSS with new application 
24. Verify that application is running 
Task results 
Get familiar with chef-server, environment and roles 
Deploy simple configuration using chef server 
Get familiar with dynamic creation and modification of common attributes. 
Get familiar with databags. 
