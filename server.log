df28@nb:~/chef-solo/lantsuntsevich$ knife bootstrap 192.168.33.15 -N apache_node -i ~/chef-solo/vms/vm1/.vagrant/machines/default/virtualbox/private_key --ssh-user vagrant --sudo --use-sudo-password --ssh-password vagrant -r apache_web_server_role
Doing old-style registration with the validation key at /home/df28/chef-solo/lantsuntsevich/.chef/olo-validator.pem...
Delete your validation key in order to use your user credentials instead

Connecting to 192.168.33.15
192.168.33.15 Starting first Chef Client run...
192.168.33.15 Starting Chef Client, version 12.2.1
192.168.33.15 resolving cookbooks for run list: ["apache_web_server_role"]
192.168.33.15 Synchronizing Cookbooks:
192.168.33.15   - apache_web_server_role
192.168.33.15   - web
192.168.33.15 Compiling Cookbooks...
192.168.33.15 Converging 1 resources
192.168.33.15 Recipe: web::install
192.168.33.15   * web_web[server] action install
192.168.33.15     * apt_package[apache2] action install
192.168.33.15       - install version 2.2.22-1ubuntu1.8 of package apache2
192.168.33.15   
192.168.33.15 
192.168.33.15 Running handlers:
192.168.33.15 Running handlers complete
192.168.33.15 Chef Client finished, 2/2 resources updated in 44.831566772 seconds



df28@nb:~/chef-solo/lantsuntsevich$ knife bootstrap 192.168.33.16 -N nginx_node -i ~/chef-solo/vms/vm1/.vagrant/machines/default/virtualbox/private_key --ssh-user vagrant --sudo --use-sudo-password --ssh-password vagrant -r nginx_web_server_role
Doing old-style registration with the validation key at /home/df28/chef-solo/lantsuntsevich/.chef/olo-validator.pem...
Delete your validation key in order to use your user credentials instead

Connecting to 192.168.33.16
192.168.33.16 Starting first Chef Client run...
192.168.33.16 Starting Chef Client, version 12.2.1
192.168.33.16 resolving cookbooks for run list: ["nginx_web_server_role"]
192.168.33.16 Synchronizing Cookbooks:
192.168.33.16   - nginx_web_server_role
192.168.33.16   - web
192.168.33.16 Compiling Cookbooks...
192.168.33.16 [2015-04-21T13:09:19+00:00] WARN: Cloning resource attributes for web_web[server] from prior resource (CHEF-3694)
192.168.33.16 [2015-04-21T13:09:19+00:00] WARN: Previous web_web[server]: /var/chef/cache/cookbooks/web/recipes/install.rb:3:in `from_file'
192.168.33.16 [2015-04-21T13:09:19+00:00] WARN: Current  web_web[server]: /var/chef/cache/cookbooks/web/recipes/setup.rb:3:in `from_file'
192.168.33.16 Converging 2 resources
192.168.33.16 Recipe: web::install
192.168.33.16   * web_web[server] action install
192.168.33.16     * apt_package[nginx] action install
192.168.33.16       - install version 1.1.19-1ubuntu0.7 of package nginx
192.168.33.16   
192.168.33.16 Recipe: web::setup
192.168.33.16   * web_web[server] action setup_web_server
192.168.33.16     * template[/etc/nginx/conf.d/default.conf] action create
192.168.33.16       - create new file setup_config
192.168.33.16       - update content in file setup_config from none to 6e2466
192.168.33.16       --- setup_config	2015-04-21 13:09:43.723014426 +0000
192.168.33.16       +++ /tmp/chef-rendered-template20150421-1878-12m9s5p	2015-04-21 13:09:43.723014426 +0000
192.168.33.16       @@ -1 +1,47 @@
192.168.33.16       +server {
192.168.33.16       +    listen       0.0.0.0:80;
192.168.33.16       +    server_name  localhost;
192.168.33.16       +
192.168.33.16       +    #charset koi8-r;
192.168.33.16       +    #access_log  /var/log/nginx/log/host.access.log  main;
192.168.33.16       +
192.168.33.16       +    location / {
192.168.33.16       +        root   /usr/share/nginx/html;
192.168.33.16       +        index  index.html index.htm;
192.168.33.16       +    }
192.168.33.16       +
192.168.33.16       +    #error_page  404              /404.html;
192.168.33.16       +
192.168.33.16       +    # redirect server error pages to the static page /50x.html
192.168.33.16       +    #
192.168.33.16       +    error_page   500 502 503 504  /50x.html;
192.168.33.16       +    location = /50x.html {
192.168.33.16       +        root   /usr/share/nginx/html;
192.168.33.16       +    }
192.168.33.16       +
192.168.33.16       +    # proxy the PHP scripts to Apache listening on 127.0.0.1:80
192.168.33.16       +    #
192.168.33.16       +    #location ~ \.php$ {
192.168.33.16       +    #    proxy_pass   http://127.0.0.1;
192.168.33.16       +    #}
192.168.33.16       +
192.168.33.16       +    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
192.168.33.16       +    #
192.168.33.16       +    #location ~ \.php$ {
192.168.33.16       +    #    root           html;
192.168.33.16       +    #    fastcgi_pass   127.0.0.1:9000;
192.168.33.16       +    #    fastcgi_index  index.php;
192.168.33.16       +    #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;
192.168.33.16       +    #    include        fastcgi_params;
192.168.33.16       +    #}
192.168.33.16       +
192.168.33.16       +    # deny access to .htaccess files, if Apache's document root
192.168.33.16       +    # concurs with nginx's one
192.168.33.16       +    #
192.168.33.16       +    #location ~ /\.ht {
192.168.33.16       +    #    deny  all;
192.168.33.16       +    #}
192.168.33.16       +}
192.168.33.16       +
192.168.33.16       +
192.168.33.16   
192.168.33.16 
192.168.33.16 Running handlers:
192.168.33.16 [2015-04-21T13:09:45+00:00] ERROR: Running exception handlers
192.168.33.16 Running handlers complete
192.168.33.16 [2015-04-21T13:09:45+00:00] ERROR: Exception handlers complete
192.168.33.16 [2015-04-21T13:09:45+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out
192.168.33.16 Chef Client failed. 4 resources updated in 35.302215467 seconds
192.168.33.16 [2015-04-21T13:09:46+00:00] ERROR: 403 "Forbidden"
192.168.33.16 [2015-04-21T13:09:46+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)

